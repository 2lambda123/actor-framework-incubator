# -- get header files for creating "proper" XCode projects ---------------------

file(GLOB_RECURSE CAF_NET_HEADERS "caf/*.hpp")

# -- add targets ---------------------------------------------------------------

caf_incubator_add_component(
  net
  DEPENDENCIES
    PUBLIC
      CAF::core
      $<$<CXX_COMPILER_ID:MSVC>:ws2_32>
    PRIVATE
      CAF::internal
  ENUM_CONSISTENCY_CHECKS
    net.basp.connection_state
    net.basp.ec
    net.basp.message_type
    net.operation
  HEADERS
    ${CAF_NET_HEADERS}
  SOURCES
    src/convert_ip_endpoint.cpp
    src/datagram_socket.cpp
    src/detail/rfc6455.cpp
    src/header.cpp
    src/host.cpp
    src/ip.cpp
    src/message_queue.cpp
    src/multiplexer.cpp
    src/net/abstract_actor_shell.cpp
    src/net/actor_shell.cpp
    src/net/basp/connection_state_strings.cpp
    src/net/basp/ec_strings.cpp
    src/net/basp/message_type_strings.cpp
    src/net/basp/operation_strings.cpp
    src/net/middleman.cpp
    src/net/middleman_backend.cpp
    src/net/packet_writer.cpp
    src/net/web_socket/handshake.cpp
    src/network_socket.cpp
    src/pipe_socket.cpp
    src/pollset_updater.cpp
    src/socket.cpp
    src/socket_manager.cpp
    src/stream_socket.cpp
    src/tcp_accept_socket.cpp
    src/tcp_stream_socket.cpp
    src/udp_datagram_socket.cpp
    src/worker.cpp
  TEST_SOURCES
    test/net-test.cpp
  TEST_SUITES
    accept_socket
    convert_ip_endpoint
    datagram_socket
    detail.rfc6455
    header
    ip
    multiplexer
    net.actor_shell
    net.consumer_adapter
    net.length_prefix_framing
    net.producer_adapter
    net.typed_actor_shell
    net.web_socket.client
    net.web_socket.handshake
    net.web_socket.server
    network_socket
    pipe_socket
    socket
    socket_guard
    stream_socket
    stream_transport
    tcp_sockets
    udp_datagram_socket)
